<div class="content-wrapper" ngxUiLoaderBlurred>

	<mat-form-field class="example-form-field" appearance="fill">
		<mat-label>Name Search</mat-label>
		<input matInput type="text" [(ngModel)]="value" (ngModelChange)="search()">
		<button *ngIf="value" matSuffix mat-icon-button aria-label="Clear" (click)="value = ''; search()">
			<mat-icon>close</mat-icon>
		</button>
	</mat-form-field>


	<div class="table-container" *ngIf="data">
		<div class="mat-elevation-z8">
			<table mat-table [dataSource]="dataSource">

				<div class="table">
					<ng-container matColumnDef="no">
						<th mat-header-cell *matHeaderCellDef> No. </th>
						<td mat-cell *matCellDef="let element; let i = index">{{ i + 1 + data.index * data.itemPerPage}}</td>
					</ng-container>

					<ng-container matColumnDef="name">
						<th mat-header-cell *matHeaderCellDef>Name</th>
						<td mat-cell *matCellDef="let element"> {{element.name}} </td>
					</ng-container>

					<ng-container matColumnDef="domains">
						<th mat-header-cell *matHeaderCellDef>Domains</th>
						<td mat-cell *matCellDef="let element"> {{element.domains}} </td>
					</ng-container>

					<ng-container matColumnDef="web_pages">
						<th mat-header-cell *matHeaderCellDef>Web Pages</th>
						<td mat-cell *matCellDef="let element"> {{element.web_pages}} </td>
					</ng-container>

					<ng-container matColumnDef="alpha_two_code">
						<th mat-header-cell *matHeaderCellDef>Alpha Two Code</th>
						<td mat-cell *matCellDef="let element"> {{element.alpha_two_code}} </td>
					</ng-container>

					<ng-container matColumnDef="state-province">
						<th mat-header-cell *matHeaderCellDef>State Province</th>
						<td mat-cell *matCellDef="let element"> {{element['state-province'] || 'N/A' }} </td>
					</ng-container>

					<ng-container matColumnDef="country">
						<th mat-header-cell *matHeaderCellDef>Country</th>
						<td mat-cell *matCellDef="let element"> {{element.country}} </td>
					</ng-container>

					<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
					<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
				</div>
			</table>
		</div>
		<mat-paginator [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons aria-label="Select page" [pageIndex]="data.index" [pageSize]="data.itemPerPage" [length]="data.total" (page)="changePage($event)">
		</mat-paginator>
	</div>

</div>

<ngx-ui-loader></ngx-ui-loader>
